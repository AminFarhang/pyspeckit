

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Model Fitting &mdash; pyspeckit 0.1.13 documentation</title>
    
    <link rel="stylesheet" href="_static/extra.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/logo.ico"/>
    <link rel="top" title="pyspeckit 0.1.13 documentation" href="index.html" />
    <link rel="up" title="Features" href="features.html" />
    <link rel="next" title="Measurements" href="measurements.html" />
    <link rel="prev" title="Baseline Fitting" href="baseline.html" />
     
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setDomainName', 'pyspeckit.bitbucket.org']);
      _gaq.push(['_setAllowHash', false]);
      _gaq.push(['_trackPageview']);


    </script>
    <link rel="stylesheet" type="text/css" href="_static/extra.css" />
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="http://pyspeckit.bitbucket.org">
            <img class="logo" src="_static/logo.png" alt="Logo"/>
          </a></p>
        <h1><a href="index.html">pyspeckit 0.1.13 documentation</a></h1>
        <div class="rel">
          <a href="http://pyspeckit.bitbucket.org/">PySpecKit Home </a>  |
          <a href=index.html>Docs Home </a>  |
          <a href="https://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/overview">Bitbucket Home </a>  |
          <a href="https://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/wiki/Home">Wiki</a>  |
          <a href=search.html>Search </a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pyspeckit.spectrum.fitters">
<span id="model-fitting"></span><h1>Model Fitting<a class="headerlink" href="#module-pyspeckit.spectrum.fitters" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyspeckit.spectrum.fitters.Specfit">
<em class="property">class </em><tt class="descclassname">pyspeckit.spectrum.fitters.</tt><tt class="descname">Specfit</tt><big>(</big><em>Spectrum</em>, <em>Registry=None</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L121" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-121" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">pyspeckit.spectrum.interactive.Interactive</span></tt></p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.EQW">
<tt class="descname">EQW</tt><big>(</big><em>plot=False</em>, <em>plotcolor='g'</em>, <em>fitted=True</em>, <em>continuum=None</em>, <em>components=False</em>, <em>annotate=False</em>, <em>alpha=0.5</em>, <em>loc='lower left'</em>, <em>xmin=None</em>, <em>xmax=None</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L292" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-292" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.EQW" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the equivalent width (integral of &#8220;baseline&#8221; or &#8220;continuum&#8221;
minus the spectrum) over the selected range
(the selected range defaults to self.xmin:self.xmax, so it may include
multiple lines!)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>plot</strong> : bool</p>
<blockquote>
<div><p>Plots a box indicating the EQW if plot==True (i.e., it will have a
width equal to the equivalent width, and a height equal to the
measured continuum)</p>
</div></blockquote>
<p><strong>fitted</strong> : bool</p>
<blockquote>
<div><p>Use the fitted model?  If false, uses the data</p>
</div></blockquote>
<p><strong>continuum</strong> : None or float</p>
<blockquote>
<div><p>Can specify a fixed continuum with this keyword, otherwise will use
the fitted baseline.  WARNING: continuum=0 will still &#8220;work&#8221;, but
will give numerically invalid results.  Similarly, a negative continuum
will work, but will yield results with questionable physical meaning.</p>
</div></blockquote>
<p><strong>components</strong> : bool</p>
<blockquote>
<div><p>If your fit is multi-component, will attempt to acquire centroids
for each component and print out individual EQWs</p>
</div></blockquote>
<p><strong>xmin</strong> : float</p>
<p><strong>xmax</strong> : float</p>
<blockquote>
<div><p>The range over which to compute the EQW</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>Equivalent Width, or widths if components=True</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.add_sliders">
<tt class="descname">add_sliders</tt><big>(</big><em>parlimitdict=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1274" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1274" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.add_sliders" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Sliders window in a new figure appropriately titled</p>
<dl class="docutils">
<dt><em>parlimitdict</em> [ dict ]</dt>
<dd>Each parameter needs to have displayed limits; these are set in
min-max pairs.  If this is left empty, the widget will try to guess
at reasonable limits, but the guessing is not very sophisticated
yet.</dd>
</dl>
<p><a class="reference external" href="http://stackoverflow.com/questions/4740988/add-new-navigate-modes-in-matplotlib">http://stackoverflow.com/questions/4740988/add-new-navigate-modes-in-matplotlib</a></p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.annotate">
<tt class="descname">annotate</tt><big>(</big><em>loc='upper right'</em>, <em>labelspacing=0.25</em>, <em>markerscale=0.01</em>, <em>borderpad=0.1</em>, <em>handlelength=0.1</em>, <em>handletextpad=0.1</em>, <em>frameon=False</em>, <em>chi2=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L922" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-922" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a legend to the plot showing the fitted parameters</p>
<p>_clearlegend() will remove the legend</p>
<p>chi2 : {True or &#8216;reduced&#8217; or &#8216;optimal&#8217;}</p>
<p>kwargs passed to legend</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.button3action">
<tt class="descname">button3action</tt><big>(</big><em>event</em>, <em>debug=False</em>, <em>nwidths=1</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1213" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1213" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.button3action" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the interactiveness
Perform the fit (or die trying)
Hide the guesses</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.clear">
<tt class="descname">clear</tt><big>(</big><em>legend=True</em>, <em>components=True</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L975" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-975" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the fitted model from the plot</p>
<p>Also removes the legend by default</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.clear_all_connections">
<tt class="descname">clear_all_connections</tt><big>(</big><em>debug=False</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L239" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-239" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.clear_all_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Prevent overlapping interactive sessions</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.clear_highlights">
<tt class="descname">clear_highlights</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L313" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-313" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.clear_highlights" title="Permalink to this definition">¶</a></dt>
<dd><p>Hide and remove &#8220;highlight&#8221; colors from the plot indicating the
selected region</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.copy">
<tt class="descname">copy</tt><big>(</big><em>parent=None</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1235" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1235" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of the spectral fit - includes copies of the _full_model,
the registry, the fitter, parinfo, modelpars, modelerrs, model, npeaks</p>
<dl class="docutils">
<dt>[ parent ] </dt>
<dd>A spectroscopic axis instance that is the parent of the specfit
instance.  This needs to be specified at some point, but defaults
to None to prevent overwriting a previous plot.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.crop">
<tt class="descname">crop</tt><big>(</big><em>x1pix</em>, <em>x2pix</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1033" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1033" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>When spectrum.crop is called, this must be too</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.downsample">
<tt class="descname">downsample</tt><big>(</big><em>factor</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1021" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1021" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the model spectrum (and the spectofit spectra)
This should only be done when Spectrum.smooth is called</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.event_manager">
<tt class="descname">event_manager</tt><big>(</big><em>event</em>, <em>debug=False</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L52" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-52" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.event_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide what to do given input (click, keypress, etc.)</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.firstclick_guess">
<tt class="descname">firstclick_guess</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L228" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-228" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.firstclick_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.guesses</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.fullsizemodel">
<tt class="descname">fullsizemodel</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L865" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-865" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.fullsizemodel" title="Permalink to this definition">¶</a></dt>
<dd><p>If the model was fit to a sub-region of the spectrum, expand it (with
zeros wherever the model was not defined) to fill the spectrum.</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_components">
<tt class="descname">get_components</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1424" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1424" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_components" title="Permalink to this definition">¶</a></dt>
<dd><p>If a model has been fitted, return the components of the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><strong>kwargs are passed to self.fitter.components</strong> :</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_emcee">
<tt class="descname">get_emcee</tt><big>(</big><em>nwalkers=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1393" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1393" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_emcee" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an emcee walker ensemble for the data &amp; model using the current model type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>data</strong> : np.ndarray</p>
<p><strong>error</strong> : np.ndarray</p>
<p><strong>nwalkers</strong> : int</p>
<blockquote class="last">
<div><p>Number of walkers to use.  Defaults to 2 * self.fitters.npars</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyspeckit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">pyspeckit</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">SpectroscopicAxis</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;km/s&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="n">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">pyspeckit</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">xarr</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">e</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">specfit</span><span class="p">(</span><span class="n">fittype</span><span class="o">=</span><span class="s">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emcee_ensemble</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">specfit</span><span class="o">.</span><span class="n">get_emcee</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span> <span class="o">=</span> <span class="n">emcee_ensemble</span><span class="o">.</span><span class="n">p0</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">emcee_ensemble</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">/</span> <span class="mf">10.</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pos</span><span class="p">,</span><span class="n">logprob</span><span class="p">,</span><span class="n">state</span> <span class="o">=</span> <span class="n">emcee_ensemble</span><span class="o">.</span><span class="n">run_mcmc</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_full_model">
<tt class="descname">get_full_model</tt><big>(</big><em>debug=False</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L702" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-702" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_full_model" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the model over the full axis</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_model">
<tt class="descname">get_model</tt><big>(</big><em>xarr</em>, <em>debug=False</em>, <em>add_baseline=None</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L706" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-706" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the model over a given axis</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_model_frompars">
<tt class="descname">get_model_frompars</tt><big>(</big><em>xarr</em>, <em>pars</em>, <em>debug=False</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L714" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-714" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_model_frompars" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the model over a given axis</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_model_xlimits">
<tt class="descname">get_model_xlimits</tt><big>(</big><em>threshold='auto'</em>, <em>peak_fraction=0.01</em>, <em>add_baseline=False</em>, <em>units='pixels'</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1147" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1147" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_model_xlimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the x positions of the first and last points at which the model
is above some threshold</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>threshold</strong> : &#8216;auto&#8217; or &#8216;error&#8217; or float</p>
<blockquote>
<div><p>If &#8216;auto&#8217;, the threshold will be set to peak_fraction * the peak
model value.  
If &#8216;error&#8217;, uses the error spectrum as the threshold</p>
</div></blockquote>
<p><strong>peak_fraction</strong> : float</p>
<blockquote>
<div><p>ignored unless threshold == &#8216;auto&#8217;</p>
</div></blockquote>
<p><strong>add_baseline</strong> : bool</p>
<blockquote>
<div><p>Include the baseline when computing whether the model is above the
threshold?  default FALSE.  Passed to get_full_model.</p>
</div></blockquote>
<p><strong>units</strong> : str</p>
<blockquote class="last">
<div><p>A valid unit type, e.g. &#8216;pixels&#8217; or &#8216;angstroms&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.get_pymc">
<tt class="descname">get_pymc</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1359" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1359" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.get_pymc" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pymc MCMC sampler from the current fitter.  Defaults to &#8216;uninformative&#8217; priors</p>
<p><tt class="xref py py-obj docutils literal"><span class="pre">kwargs</span></tt> are passed to the fitter&#8217;s get_pymc method, with parameters defined below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>data</strong> : np.ndarray</p>
<p><strong>error</strong> : np.ndarray</p>
<p><strong>use_fitted_values</strong> : bool</p>
<blockquote class="last">
<div><p>Each parameter with a measured error will have a prior defined by
the Normal distribution with sigma = par.error and mean = par.value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">pyspeckit</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">SpectroscopicAxis</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;km/s&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="n">e</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">pyspeckit</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">xarr</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="o">*</span><span class="n">e</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">specfit</span><span class="p">(</span><span class="n">fittype</span><span class="o">=</span><span class="s">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCuninformed</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">specfit</span><span class="o">.</span><span class="n">get_pymc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCwithpriors</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">specfit</span><span class="o">.</span><span class="n">get_pymc</span><span class="p">(</span><span class="n">use_fitted_values</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCuninformed</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCuninformed</span><span class="o">.</span><span class="n">stats</span><span class="p">()[</span><span class="s">&#39;AMPLITUDE0&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># WARNING: This will fail because width cannot be set &lt;0, but it may randomly reach that...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># How do you define a likelihood distribution with a lower limit?!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCwithpriors</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MCwithpriors</span><span class="o">.</span><span class="n">stats</span><span class="p">()[</span><span class="s">&#39;AMPLITUDE0&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.guesspeakwidth">
<tt class="descname">guesspeakwidth</tt><big>(</big><em>event</em>, <em>debug=False</em>, <em>nwidths=1</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L188" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-188" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.guesspeakwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactively guess the peak height and width from user input</p>
<p>Width is assumed to be half-width-half-max</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.highlight_fitregion">
<tt class="descname">highlight_fitregion</tt><big>(</big><em>drawstyle='steps-mid'</em>, <em>color=(0</em>, <em>0.8</em>, <em>0</em>, <em>0.5)</em>, <em>linewidth=2</em>, <em>alpha=0.5</em>, <em>clear_highlights=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L151" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-151" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.highlight_fitregion" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-highlight the fitted region</p>
<p>kwargs are passed to <tt class="xref py py-obj docutils literal"><span class="pre">matplotlib.plot</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.history_fitpars">
<tt class="descname">history_fitpars</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L565" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-565" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.history_fitpars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.integral">
<tt class="descname">integral</tt><big>(</big><em>analytic=False</em>, <em>direct=False</em>, <em>threshold='auto'</em>, <em>integration_limits=None</em>, <em>integration_limit_units='pixels'</em>, <em>return_error=False</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1043" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1043" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integral of the fitted spectrum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>analytic</strong> : bool</p>
<blockquote>
<div><p>Return the analytic integral of the fitted function?  
.. WARNING:: This approach is only implemented for some models
.. TODO:: Implement error propagation for this approach</p>
</div></blockquote>
<p><strong>direct</strong> : bool</p>
<blockquote>
<div><p>Return the integral of the <em>spectrum</em> (as opposed to the <em>fit</em>)
over a range defined by the <tt class="xref py py-obj docutils literal"><span class="pre">integration_limits</span></tt> if specified or
<tt class="xref py py-obj docutils literal"><span class="pre">threshold</span></tt> otherwise</p>
</div></blockquote>
<p><strong>threshold</strong> : &#8216;auto&#8217; or &#8216;error&#8217; or float</p>
<blockquote>
<div><p>Determines what data to be included in the integral based off of where
the model is greater than this number
If &#8216;auto&#8217;, the threshold will be set to peak_fraction * the peak
model value.  
If &#8216;error&#8217;, uses the error spectrum as the threshold
See <tt class="xref py py-obj docutils literal"><span class="pre">self.get_model_xlimits</span></tt> for details</p>
</div></blockquote>
<p><strong>integration_limits</strong> : None or 2-tuple</p>
<blockquote>
<div><p>Manually specify the limits in <tt class="xref py py-obj docutils literal"><span class="pre">integration_limit_units</span></tt> units</p>
</div></blockquote>
<p><strong>return_error</strong> : bool</p>
<blockquote>
<div><p>Return the error on the integral if set.
The error computed by
sigma = sqrt(sum(sigma_i^2)) * dx</p>
</div></blockquote>
<p><strong>kwargs :</strong> :</p>
<blockquote>
<div><p>passed to <tt class="xref py py-obj docutils literal"><span class="pre">self.fitter.integral</span></tt> if <tt class="docutils literal"><span class="pre">not(direct)</span></tt></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>np.scalar or np.ndarray with the integral or integral &amp; error</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.measure_approximate_fwhm">
<tt class="descname">measure_approximate_fwhm</tt><big>(</big><em>threshold='error'</em>, <em>emission=True</em>, <em>interpolate_factor=1</em>, <em>plot=False</em>, <em>grow_threshold=2</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1438" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1438" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.measure_approximate_fwhm" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the FWHM of a fitted line</p>
<p>This procedure is designed for multi-component lines; if the true FWHM
is known (i.e., the line is well-represented by a single
gauss/voigt/lorentz profile), use that instead!</p>
<p>This MUST be run AFTER a fit has been performed!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>threshold</strong> : &#8216;error&#8217; | float</p>
<blockquote>
<div><p>The threshold above which the spectrum will be interpreted as part
of the line.  This threshold is applied to the <em>model</em>.  If it is
&#8216;noise&#8217;, self.error will be used.</p>
</div></blockquote>
<p><strong>emission</strong> : bool</p>
<blockquote>
<div><p>Is the line absorption or emission?</p>
</div></blockquote>
<p><strong>interpolate_factor</strong> : integer</p>
<blockquote>
<div><p>Magnification factor for determining sub-pixel FWHM.  If used,
&#8220;zooms-in&#8221; by using linear interpolation within the line region</p>
</div></blockquote>
<p><strong>plot</strong> : bool</p>
<blockquote>
<div><p>Overplot a line at the FWHM indicating the FWHM.  kwargs
are passed to matplotlib.plot</p>
</div></blockquote>
<p><strong>grow_threshold</strong> : int</p>
<blockquote>
<div><p>Minimum number of valid points.  If the total # of points above the
threshold is &lt;= to this number, it will be grown by 1 pixel on each side</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>The approximated FWHM, if it can be computed</strong> :</p>
<p class="last"><strong>If there are &lt;= 2 valid pixels, a fwhm cannot be computed</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.moments">
<tt class="descname">moments</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1203" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1203" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the moments</p>
<p>see the <tt class="xref py py-mod docutils literal"><span class="pre">moments</span></tt> module</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.multifit">
<tt class="descname">multifit</tt><big>(</big><em>fittype=None</em>, <em>renormalize='auto'</em>, <em>annotate=None</em>, <em>show_components=None</em>, <em>verbose=True</em>, <em>color=None</em>, <em>use_window_limits=None</em>, <em>use_lmfit=False</em>, <em>plot=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L458" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-458" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.multifit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit multiple gaussians (or other profiles)</p>
<dl class="docutils">
<dt>fittype - What function will be fit?  fittype must have been Registryed in the</dt>
<dd>singlefitters dict.  Uses default (&#8216;gaussian&#8217;) if not specified</dd>
<dt>renormalize - if &#8216;auto&#8217; or True, will attempt to rescale small data (&lt;1e-9) to be </dt>
<dd>closer to 1 (scales by the median) so that the fit converges better</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.optimal_chi2">
<tt class="descname">optimal_chi2</tt><big>(</big><em>reduced=True</em>, <em>threshold='error'</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1320" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1320" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.optimal_chi2" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an &#8220;optimal&#8221; <span class="math">\(\chi^2\)</span> statistic, i.e. one in which only pixels in
which the model is statistically significant are included</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>reduced</strong> : bool</p>
<blockquote>
<div><p>Return the reduced <span class="math">\(\chi^2\)</span></p>
</div></blockquote>
<p><strong>threshold</strong> : &#8216;auto&#8217; or &#8216;error&#8217; or float</p>
<blockquote>
<div><p>If &#8216;auto&#8217;, the threshold will be set to peak_fraction * the peak
model value, where peak_fraction is a kwarg passed to
get_model_xlimits reflecting the fraction of the model peak
to consider significant
If &#8216;error&#8217;, uses the error spectrum as the threshold</p>
</div></blockquote>
<p><strong>kwargs</strong> : dict</p>
<blockquote>
<div><p>passed to <a class="reference internal" href="#pyspeckit.spectrum.fitters.Specfit.get_model_xlimits" title="pyspeckit.spectrum.fitters.Specfit.get_model_xlimits"><tt class="xref py py-meth docutils literal"><span class="pre">get_model_xlimits()</span></tt></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>chi2</strong> : float</p>
<blockquote class="last">
<div><p><span class="math">\(\chi^2\)</span> statistic or reduced <span class="math">\(\chi^2\)</span> statistic (<span class="math">\(\chi^2/n\)</span>)</p>
<div class="math">
\[\chi^2 = \sum( (d_i - m_i)^2 / e_i^2 )\]</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.peakbgfit">
<tt class="descname">peakbgfit</tt><big>(</big><em>usemoments=True</em>, <em>annotate=None</em>, <em>vheight=True</em>, <em>height=0</em>, <em>negamp=None</em>, <em>fittype=None</em>, <em>renormalize='auto'</em>, <em>color=None</em>, <em>use_lmfit=False</em>, <em>show_components=None</em>, <em>debug=False</em>, <em>nsigcut_moments=None</em>, <em>plot=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L573" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-573" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.peakbgfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a single peak (plus a background)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>usemoments</strong> : bool</p>
<blockquote>
<div><p>The initial guess will be set by the fitter&#8217;s &#8216;moments&#8217; function
(this overrides &#8216;guesses&#8217;)</p>
</div></blockquote>
<p><strong>annotate</strong> : bool</p>
<blockquote>
<div><p>Make a legend?</p>
</div></blockquote>
<p><strong>vheight</strong> : bool</p>
<blockquote>
<div><p>Fit a (constant) background as well as a peak?</p>
</div></blockquote>
<p><strong>height</strong> : float</p>
<blockquote>
<div><p>initial guess for background</p>
</div></blockquote>
<p><strong>negamp</strong> : bool</p>
<blockquote>
<div><p>If True, assumes amplitude is negative.  If False, assumes positive.  If 
None, can be either.</p>
</div></blockquote>
<p><strong>fittype</strong> : bool</p>
<blockquote>
<div><p>What function will be fit?  fittype must have been Registryed in the
singlefitters dict</p>
</div></blockquote>
<p><strong>renormalize</strong> : &#8216;auto&#8217; or bool</p>
<blockquote>
<div><p>if &#8216;auto&#8217; or True, will attempt to rescale small data (&lt;1e-9) to be 
closer to 1 (scales by the median) so that the fit converges better</p>
</div></blockquote>
<p><strong>nsigcut_moments</strong> : bool</p>
<blockquote class="last">
<div><p>pass to moment guesser; can do a sigma cut for moment guessing</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.plot_components">
<tt class="descname">plot_components</tt><big>(</big><em>show_hyperfine_components=None</em>, <em>component_yoffset=0.0</em>, <em>component_lw=0.75</em>, <em>pars=None</em>, <em>component_fit_color='blue'</em>, <em>component_kwargs={}</em>, <em>add_baseline=False</em>, <em>plotkwargs={}</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L809" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-809" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.plot_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Overplot the individual components of a fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>show_hyperfine_components</strong> : None | bool</p>
<blockquote>
<div><p>Keyword argument to pass to component codes; determines whether to return
individual (e.g., hyperfine) components of a composite model</p>
</div></blockquote>
<p><strong>component_yoffset</strong> : float</p>
<blockquote>
<div><p>Vertical (y-direction) offset to add to the components when plotting</p>
</div></blockquote>
<p><strong>component_lw</strong> : float</p>
<blockquote>
<div><p>Line width of component lines</p>
</div></blockquote>
<p><strong>component_fitcolor</strong> : color</p>
<blockquote>
<div><p>Color of component lines</p>
</div></blockquote>
<p><strong>component_kwargs</strong> : dict</p>
<blockquote>
<div><p>Keyword arguments to pass to the fitter.components method</p>
</div></blockquote>
<p><strong>add_baseline</strong> : bool</p>
<blockquote>
<div><p>Add the fit to the components before plotting.  Makes sense to use
if self.Spectrum.baseline.subtracted == False</p>
</div></blockquote>
<p><strong>pars</strong> : parinfo</p>
<blockquote class="last">
<div><p>A parinfo structure or list of model parameters.  If none, uses
best-fit</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.plot_fit">
<tt class="descname">plot_fit</tt><big>(</big><em>annotate=None</em>, <em>show_components=None</em>, <em>composite_fit_color='red'</em>, <em>lw=0.5</em>, <em>composite_lw=0.75</em>, <em>pars=None</em>, <em>offset=None</em>, <em>use_window_limits=None</em>, <em>show_hyperfine_components=None</em>, <em>plotkwargs={}</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L738" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-738" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.plot_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the fit.  Must have fitted something before calling this!</p>
<p>It will be automatically called whenever a spectrum is fit (assuming an
axis for plotting exists)</p>
<p>kwargs are passed to the fitter&#8217;s components attribute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>annotate</strong> : None or bool</p>
<blockquote>
<div><p>Annotate the plot?  If not specified, defaults to self.autoannotate</p>
</div></blockquote>
<p><strong>show_components</strong> : None or bool</p>
<p><strong>show_hyperfine_components</strong> : None or bool</p>
<blockquote>
<div><p>Show the individual gaussian components overlaid on the composite fit</p>
</div></blockquote>
<p><strong>use_window_limits</strong> : None or bool</p>
<blockquote>
<div><p>If False, will reset the window to include the whole spectrum.  If
True, leaves the window as is.  Defaults to self.use_window_limits
if None.</p>
</div></blockquote>
<p><strong>pars</strong> : parinfo</p>
<blockquote>
<div><p>A parinfo structure or list of model parameters.  If none, uses
best-fit</p>
</div></blockquote>
<p><strong>offset</strong> : None or float</p>
<blockquote class="last">
<div><p>Y-offset. If none, uses the default self.Spectrum.plotter offset, otherwise,
uses the specified float.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.plot_model">
<tt class="descname">plot_model</tt><big>(</big><em>pars</em>, <em>offset=0.0</em>, <em>annotate=False</em>, <em>clear=False</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L721" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-721" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.plot_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a model from specified input parameters
(see plot_fit for kwarg specification)</p>
<p>annotate is set to &#8220;false&#8221; because arbitrary annotations are not yet implemented</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.plotresiduals">
<tt class="descname">plotresiduals</tt><big>(</big><em>fig=2</em>, <em>axis=None</em>, <em>clear=True</em>, <em>color='k'</em>, <em>linewidth=0.5</em>, <em>drawstyle='steps-mid'</em>, <em>yoffset=0.0</em>, <em>label=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L891" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-891" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.plotresiduals" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot residuals of the fit.  Specify a figure or
axis; defaults to figure(2).</p>
<p>kwargs are passed to matplotlib plot</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.print_fit">
<tt class="descname">print_fit</tt><big>(</big><em>print_baseline=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L964" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-964" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.print_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the best-fit parameters to the command line</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.register_fitter">
<tt class="descname">register_fitter</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L399" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-399" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.register_fitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a model fitter</p>
<p>Register a fitter function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>*name*: [ string ]</strong> :</p>
<blockquote>
<div><p>The fit function name.</p>
</div></blockquote>
<p><strong>*function*: [ function ]</strong> :</p>
<blockquote>
<div><p>The fitter function.  Single-fitters should take npars + 1 input
parameters, where the +1 is for a 0th order baseline fit.  They
should accept an X-axis and data and standard fitting-function
inputs (see, e.g., gaussfitter).  Multi-fitters should take N *
npars, but should also operate on X-axis and data arguments.</p>
</div></blockquote>
<p><strong>*npars*: [ int ]</strong> :</p>
<blockquote>
<div><p>How many parameters does the function being fit accept?</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first"><strong>*multisingle*: [ &#8216;multi&#8217; | &#8216;single&#8217; ]</strong> :</p>
<blockquote>
<div><p>Is the function a single-function fitter (with a background), or
does it allow N copies of the fitting function?</p>
</div></blockquote>
<p><strong>*override*: [ True | False ]</strong> :</p>
<blockquote>
<div><p>Whether to override any existing type if already present.</p>
</div></blockquote>
<p><strong>*key*: [ char ]</strong> :</p>
<blockquote class="last">
<div><p>Key to select the fitter in interactive mode</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.savefit">
<tt class="descname">savefit</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1008" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1008" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.savefit" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the fit parameters from a Gaussian fit to the FITS header</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.selectregion">
<tt class="descname">selectregion</tt><big>(</big><em>xmin=None</em>, <em>xmax=None</em>, <em>xtype='wcs'</em>, <em>highlight=False</em>, <em>fit_plotted_area=True</em>, <em>reset=False</em>, <em>verbose=False</em>, <em>debug=False</em>, <em>use_window_limits=None</em>, <em>exclude=None</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L324" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-324" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.selectregion" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick a fitting region in either WCS units or pixel units</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>*xmin / xmax*</strong> : [ float ]</p>
<blockquote>
<div><p>The min/max X values to use in X-axis units (or pixel units if xtype is set).
TAKES PRECEDENCE ALL OTHER BOOLEAN OPTIONS</p>
</div></blockquote>
<p><strong>*xtype*</strong> : [ string ]</p>
<blockquote>
<div><p>A string specifying the xtype that xmin/xmax are specified in.  It can be either
&#8216;wcs&#8217; or any valid xtype from <a class="reference internal" href="units.html#module-pyspeckit.spectrum.units" title="pyspeckit.spectrum.units"><tt class="xref py py-class docutils literal"><span class="pre">pyspeckit.spectrum.units</span></tt></a></p>
</div></blockquote>
<p><strong>*reset*</strong> : [ bool ]</p>
<blockquote>
<div><p>Reset the selected region to the full spectrum?  Only takes effect
if xmin and xmax are not (both) specified.
TAKES PRECEDENCE ALL SUBSEQUENT BOOLEAN OPTIONS</p>
</div></blockquote>
<p><strong>*fit_plotted_area*</strong> : [ bool ]</p>
<blockquote>
<div><p>Use the plot limits <em>as specified in :class:`pyspeckit.spectrum.plotters`</em>?
Note that this is not necessarily the same as the window plot limits!</p>
</div></blockquote>
<p><strong>*use_window_limits*</strong> : [ bool ]</p>
<blockquote>
<div><p>Use the plot limits <em>as displayed</em>.  Defaults to self.use_window_limits 
(<tt class="xref py py-attr docutils literal"><span class="pre">pyspeckit.spectrum.interactive.use_window_limits</span></tt>).
Overwrites xmin,xmax set by plotter</p>
</div></blockquote>
<p><strong>exclude: {list of length 2n,&#8217;interactive&#8217;, None}</strong> :</p>
<blockquote class="last">
<div><ul class="simple">
<li>interactive: start an interactive session to select the
include/exclude regions</li>
<li>list: parsed as a series of (startpoint, endpoint) in the
spectrum&#8217;s X-axis units.  Will exclude the regions between
startpoint and endpoint</li>
<li>None: No exclusion</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.selectregion_interactive">
<tt class="descname">selectregion_interactive</tt><big>(</big><em>event</em>, <em>mark_include=True</em>, <em>debug=False</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L107" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-107" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.selectregion_interactive" title="Permalink to this definition">¶</a></dt>
<dd><p>select regions for baseline fitting</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.seterrspec">
<tt class="descname">seterrspec</tt><big>(</big><em>usestd=None</em>, <em>useresiduals=True</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L407" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-407" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.seterrspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple wrapper function to set the error spectrum; will either use the
input spectrum or determine the error using the RMS of the residuals,
depending on whether the residuals exist.</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.setfitspec">
<tt class="descname">setfitspec</tt><big>(</big><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L429" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-429" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.setfitspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the spectrum that will be fit.  This is primarily to remove NANs
from consideration: if you simply remove the data from both the X-axis
and the Y-axis, it will not be considered for the fit, and a linear
X-axis is not needed for fitting.</p>
<p>However, it may be possible to do this using masked arrays instead of
setting errors to be 1e10....</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.shift_pars">
<tt class="descname">shift_pars</tt><big>(</big><em>frame=None</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L1189" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-1189" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.shift_pars" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the velocity / wavelength / frequency of the fitted parameters
into a different frame</p>
<p>Right now this only takes care of redshift and only if redshift is defined.
It should be extended to do other things later</p>
</dd></dl>

<dl class="method">
<dt id="pyspeckit.spectrum.fitters.Specfit.start_interactive">
<tt class="descname">start_interactive</tt><big>(</big><em>debug=False</em>, <em>LoudDebug=False</em>, <em>print_message=True</em>, <em>clear_all_connections=True</em>, <em>**kwargs</em><big>)</big><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/pyspeckit/spectrum/fitters.py#L264" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[github]</span></a><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/pyspeckit/spectrum/fitters.py#cl-264" title="Push the Edit button on the next page"><span class="edit-on-bitbucket viewcode-link">&nbsp;[bitbucket]</span></a><a class="headerlink" href="#pyspeckit.spectrum.fitters.Specfit.start_interactive" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the interative session</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>print_message</strong> : bool</p>
<blockquote>
<div><p>Print the interactive help message?</p>
</div></blockquote>
<p><strong>clear_all_connections</strong> : bool</p>
<blockquote class="last">
<div><p>Clear all matplotlib event connections?
(calls <tt class="xref py py-func docutils literal"><span class="pre">self.clear_all_connections()</span></tt>)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="edit-section section">
<p class="edit-on-github-para"><a class="reference external" href="http://github.com/keflavich/pyspeckit/tree/master/doc/fitting.rst" title="Push the Edit button on the next page"><span class="edit-on-github">[edit this page on github]</span></a></p>
<p class="edit-on-bitbucket-para"><a class="reference external" href="http://bitbucket.org/pyspeckit/pyspeckit.bitbucket.org/src/tip/doc/fitting.rst" title="Push the Edit button on the next page"><span class="edit-on-bitbucket">[edit this page on bitbucket]</span></a></p>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models &amp; Fitting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="features.html">Class Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="baseline.html">Baseline Fitting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Model Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="measurements.html">Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html">Registration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readers.html">File Readers</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">High-Level Wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Interactive Use</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer">
    <table width=800><tr>
            <td align=left>
      &copy; Copyright 2011, Adam Ginsburg and Jordan Mirocha.
    </td>
    <td align=right><a href="mailto:pyspeckit@gmail.com">Contact us</a></td>
    </tr>
    <tr><td>
      Last updated on Jun 25, 2013.
    </td><td align=right>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </td>
    <tr>
            <td align=left><a href="pyspeckit.pdf">PDF version of this document</a></td>
    </tr></table>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-6253200-7']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
        
    </div>
  </body>
</html>